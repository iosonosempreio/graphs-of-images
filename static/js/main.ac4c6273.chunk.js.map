{"version":3,"sources":["components/network/Network.js","App.js","reportWebVitals.js","index.js"],"names":["nodes","hashtags","missings","width","window","innerWidth","height","innerHeight","size","scaleLinear","app","PIXI","backgroundColor","resolution","devicePixelRatio","autoResize","antialias","powerPreference","resizeTo","viewport","Viewport","passiveWheel","stopPropagation","screenWidth","screenHeight","worldWidth","worldHeight","interaction","renderer","plugins","drag","pressDrag","clampWheel","pinch","wheel","stage","addChild","graphicsContainer","x","screen","y","pivot","container","spritesheetsList","Array","from","i","process","forEach","d","loader","add","onProgress","e","console","log","progress","onComplete","a","resources","graphics","m","my_size","lineStyle","drawRect","l1_x1","l1_y1","l1_x2","l1_y2","moveTo","lineTo","l2_x1","l2_y1","l2_x2","l2_y2","closePath","h","style","fill","stroke","strokeThickness","lineJoin","text","label","anchor","alpha","s","sheet","spritesheet","textureName","texture","textures","sprite","nodeData","find","n","attributes","image","scale","Math","min","orig","Network","useRef","useEffect","json","then","data","filter","type","domain","extent","range","current","appendChild","view","load","ref","App","className","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ac4c6273.chunk.js","sourcesContent":["import React, { useEffect, useRef } from \"react\";\nimport * as PIXI from \"pixi.js\";\nimport { json, scaleLinear, extent } from \"d3\";\nimport { Viewport } from \"pixi-viewport\";\n\nconst width = window.innerWidth,\n  height = window.innerHeight,\n  size = scaleLinear();\nlet nodes, hashtags, missings;\n\nlet app = new PIXI.Application({\n  backgroundColor: 0xf1f1f1,\n  resolution: window.devicePixelRatio || 1,\n  autoResize:true,\n  width: width,\n  height: height,\n  antialias: true,\n  powerPreference: 'high-performance',\n  resizeTo: window\n});\n\nconst viewport = new Viewport({\n  passiveWheel: false,\n  stopPropagation: true,\n  screenWidth: width,\n  screenHeight: height,\n  worldWidth: width,\n  worldHeight: height,\n  interaction: app.renderer.plugins.interaction, // the interaction module is important for wheel to work properly when renderer.view is placed or scaled\n});\nviewport.drag({ pressDrag: true, clampWheel: true }).pinch().wheel();\napp.stage.addChild(viewport);\n\nconst graphicsContainer = new PIXI.Container();\n// Move container to the center\ngraphicsContainer.x = app.screen.width / 2;\ngraphicsContainer.y = app.screen.height / 2;\n\n// Center bunny sprite in local container coordinates\ngraphicsContainer.pivot.x = graphicsContainer.width / 2;\ngraphicsContainer.pivot.y = graphicsContainer.height / 2;\n\nviewport.addChild(graphicsContainer);\n\nconst container = new PIXI.ParticleContainer();\n\n// Move container to the center\ncontainer.x = app.screen.width / 2;\ncontainer.y = app.screen.height / 2;\n\n// Center bunny sprite in local container coordinates\ncontainer.pivot.x = container.width / 2;\ncontainer.pivot.y = container.height / 2;\n\nviewport.addChild(container);\n\nconst spritesheetsList = Array.from(\n  Array(4),\n  (x, i) => `${process.env.PUBLIC_URL}/images/spritesheets/spritesheet-${i + 1}.json`\n);\n\nspritesheetsList.forEach((d) => {\n  app.loader.add(d);\n});\napp.loader.onProgress.add((e) => {\n  console.log(e.progress + \"%\");\n});\n\napp.loader.onComplete.add(async () => {\n  console.log(\"loader completed\", app.loader.resources);\n\n  const graphics = new PIXI.Graphics();\n  missings.forEach(m=>{\n    const my_size = size(m.size);\n    graphics.lineStyle(1, 0x000000, 1);\n    // graphics.beginFill(0xDE3249);\n    graphics.drawRect(m.x - my_size/2, m.y - my_size/2, my_size, my_size);\n    const l1_x1 = m.x - my_size/2,\n          l1_y1 = m.y - my_size/2,\n          l1_x2 = m.x + my_size/2,\n          l1_y2 = m.y + my_size/2;\n    graphics.moveTo(l1_x1, l1_y1);\n    graphics.lineTo(l1_x2, l1_y2);\n    const l2_x1 = m.x + my_size/2,\n          l2_y1 = m.y - my_size/2,\n          l2_x2 = m.x - my_size/2,\n          l2_y2 = m.y + my_size/2;\n    graphics.moveTo(l2_x1, l2_y1);\n    graphics.lineTo(l2_x2, l2_y2);\n    graphics.closePath();\n    // graphics.endFill();\n    console.log('created graphic')\n  })\n  graphicsContainer.addChild(graphics);\n\n  hashtags.forEach((h) => {\n    let style = new PIXI.TextStyle({\n      \"fontSize\": h.size,\n      \"fontFamily\": \"Arial\",\n      // fontStyle: \"italic\",\n      // fontWeight: \"normal\",\n      fill:\"#333333\"\n    });\n    style = h.size > 50 ? {\n      ...style,\n      fill: [\"#ffffff\", \"#00ff99\"], // gradient\n      stroke: \"#4a1850\",\n      strokeThickness: 5,\n      // dropShadow: true,\n      // dropShadowColor: \"#000000\",\n      // dropShadowBlur: 4,\n      // dropShadowAngle: Math.PI / 6,\n      // dropShadowDistance: 6,\n      lineJoin: \"round\",\n    } : style;\n    const text = new PIXI.Text(h.label, style);\n    text.x = h.x;\n    text.y = h.y*-1;\n    text.anchor.x = 0.5;\n    text.alpha = h.size > 50 ? 1 : 0.5;\n    // text.anchor.y = 0.5;\n    graphicsContainer.addChild(text);\n    console.log('created graphic')\n  });\n\n  spritesheetsList.forEach((s) => {\n    const sheet = app.loader.resources[s].spritesheet;\n    for (let textureName in sheet.textures) {\n      // console.log(textureName)\n      const texture = sheet.textures[textureName];\n      const sprite = new PIXI.Sprite(texture);\n\n      const nodeData = nodes.find((n) => n.attributes.image === textureName);\n      let scale = 1;\n      if (nodeData) {\n        sprite.x = nodeData.x;\n        sprite.y = nodeData.y*-1;\n        scale = Math.min(\n          size(nodeData.size) / texture.orig.width,\n          size(nodeData.size) / texture.orig.height\n        );\n      } else {\n        sprite.x = 0;\n        sprite.y = 0;\n        scale = Math.min(\n          50 / texture.orig.width,\n          50 / texture.orig.height\n        );\n      }\n\n      sprite.anchor.x = 0.5;\n      sprite.anchor.y = 0.5;\n      sprite.scale.x = scale;\n      sprite.scale.y = scale;\n\n      container.addChild(sprite);\n      console.log('created sprite')\n    }\n  });\n  console.log('all elements created. Rendering...')\n});\n\nfunction Network() {\n  const container = useRef();\n  useEffect(() => {\n    json(process.env.PUBLIC_URL + \"/data.json\").then((data) => {\n      nodes = data.nodes.filter((n) => n.attributes.type === \"post\");\n      hashtags = data.nodes.filter((n) => n.attributes.type === \"hashtag\");\n      missings = data.nodes.filter((n) => n.attributes.type === \"postNoImage\");\n      size.domain(extent(nodes, d=>d.size)).range([35,200])\n      container.current.appendChild(app.view);\n      app.loader.load();\n    });\n  }, []);\n\n  return <div ref={container}></div>;\n}\n\nexport default Network;\n","import Network from './components/network';\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Network />\n    </div>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}